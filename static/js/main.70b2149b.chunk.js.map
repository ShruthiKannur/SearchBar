{"version":3,"sources":["logo.svg","containers/UserCard.js","containers/ListItems.js","hoc/withKeyboardAndMouse.js","containers/SearchResult.js","hoc/withScroller.js","containers/SearchBox.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","UserCard","ref","window","addEventListener","props","isActive","userInfo","id","scrollIntoView","block","behavior","this","userIndex","mouseEnterHandler","mouseLeaveHandler","activeCss","className","onMouseEnter","onMouseLeave","name","address","PureComponent","ComponentToWrap","ListItems","renderEmptyList","filteredData","itemIndex","userList","map","user","index","key","Fragment","length","withKeyboardAndMouse","handleDownArrow","evt","keyCode","keyDownHandler","handleUpArrow","keyUpHandler","withScroller","offsetTop","state","cursorPosition","setState","data","require","SearchBox","debounceFn","fn","debounceTime","args","fnArguments","currentTarget","value","clearTimeout","setTimeout","getFilteredData","val","toLowerCase","cache","regExp","RegExp","filter","item","search","items","join","pincode","onChange","enteredVal","handleChange","type","placeholder","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.70b2149b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { PureComponent } from 'react';\nimport './UserCard.css';\n\nexport default class UserCard extends PureComponent {\n  constructor() {\n    super();\n    this.ref = {};\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', () => {\n      if (this.props.isActive) {\n        this.ref[this.props.userInfo.id] && this.ref[this.props.userInfo.id].scrollIntoView({ block: \"nearest\", behavior: \"smooth\" });\n      }\n    });\n    window.addEventListener('keyup', () => {\n      if (this.props.isActive) {\n        this.ref[this.props.userInfo.id] && this.ref[this.props.userInfo.id].scrollIntoView({ block: \"end\", behavior: \"smooth\" });\n      }\n    });\n  }\n\n  render() {\n    const { userInfo, isActive, userIndex, mouseEnterHandler, mouseLeaveHandler } = this.props;\n\n    if (!userInfo) {\n      return null;\n    }\n\n    const activeCss = isActive ? 'UserCard__li__active' : 'UserCard__li__inActive';\n\n    return (\n      <li className={`UserCard__li ${activeCss}`}\n        onMouseEnter={() => {\n          mouseEnterHandler(userIndex + 1);\n        }}\n        onMouseLeave={mouseLeaveHandler}\n        ref={(ref) => {\n          this.ref[userInfo.id] = ref;\n        }}\n      >\n        <h4 className=\"UserCard__h4\"> {userInfo.id} </h4>\n        <span> {userInfo.name} </span>\n        <p> {userInfo.address} </p>\n      </li>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport UserCard from './UserCard.js';\nimport './ListItems.css';\nimport withKeyboardAndMouse from '../hoc/withKeyboardAndMouse.js';\n\nexport class ListItems extends PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  renderEmptyList = () => {\n    return (\n      <div className='ListItems__div'>\n        No user found\n      </div>\n    );\n  }\n\n  render() {\n    const { filteredData, itemIndex, mouseEnterHandler, mouseLeaveHandler } = this.props;\n    const userList = filteredData.map((user, index) => {\n      return (\n        <UserCard\n          userInfo={user}\n          key={user.id}\n          userIndex={index}\n          isActive={(itemIndex - 1) === index}\n          mouseEnterHandler={mouseEnterHandler}\n          mouseLeaveHandler={mouseLeaveHandler}\n        />\n      );\n    });\n\n    return (\n      <React.Fragment>\n        {userList.length ? userList : this.renderEmptyList()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default withKeyboardAndMouse(ListItems);\n","import React, { PureComponent } from 'react';\n\nexport default function withKeyboardAndMouse(ComponentToWrap) {\n  class KeyboardMouseWrapper extends PureComponent {\n    constructor(props) {\n      super(props);\n    }\n\n    componentDidMount() {\n      window.addEventListener('keydown', this.handleDownArrow);\n      window.addEventListener('keyup', this.handleUpArrow);\n    }\n\n    handleDownArrow = (evt) => {\n      if (evt.keyCode == 40) {\n        this.props.keyDownHandler();\n      }\n    }\n\n    handleUpArrow = (evt) => {\n      if (evt.keyCode == 38) {\n        this.props.keyUpHandler();\n      }\n    }\n\n    render() {\n      return (\n        <React.Fragment>\n          <ComponentToWrap {...this.props} />\n        </React.Fragment>\n      );\n    }\n  }\n\n  return KeyboardMouseWrapper;\n}\n","import React, { PureComponent } from 'react';\nimport './SearchResult.css';\nimport withScroller from '../hoc/withScroller.js';\nimport ListItems from './ListItems.js';\n\nexport class SearchResult extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursorPosition: 0,\n    };\n  }\n\n  keyDownHandler = () => {\n    if (this.state.cursorPosition < this.props.filteredData.length) {\n      this.setState((state) => {\n        return {cursorPosition: state.cursorPosition + 1}\n      });\n    }\n  }\n\n  keyUpHandler = () => {\n    if (this.state.cursorPosition > 0) {\n      this.setState((state) => {\n        return {cursorPosition: state.cursorPosition - 1}\n      })\n    }\n  }\n\n  mouseEnterHandler = (index) => {\n    this.setState({cursorPosition: index});\n  }\n\n  mouseLeaveHandler = (index) => {\n    this.setState({cursorPosition: 0});\n  }\n\n  render() {\n    return (\n      <ul className=\"SearchResult__ul\">\n        <ListItems\n          filteredData={this.props.filteredData}\n          keyDownHandler={this.keyDownHandler}\n          keyUpHandler={this.keyUpHandler}\n          mouseEnterHandler={this.mouseEnterHandler}\n          mouseLeaveHandler={this.mouseLeaveHandler}\n          itemIndex={this.state.cursorPosition}\n        />\n      </ul>\n    );\n  }\n}\n\nexport default withScroller(SearchResult);\n","import React, { PureComponent } from 'react';\nimport './withScroller.css';\n\nexport default function withScroller(ComponentToWrap) {\n  class Wrapper extends PureComponent{\n    offsetTop = 0;\n\n    render() {\n      return (\n        <div className=\"withScroller__div\">\n          <div className=\"withScroller__div__div\">\n            <ComponentToWrap {...this.props}/>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","import React, { PureComponent } from 'react';\nimport './SearchBox.css';\nimport SearchResult from './SearchResult';\nconst data = require('../userData.json');\n\nexport default class SearchBox extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enteredVal: '',\n    }\n    this.filteredData = [];\n    this.cache = {}; //store the searched result to avoid repeated iteration\n  }\n\n  debounceFn = (fn) => {\n    let debounceTime;\n    return function (args) {\n      const fnArguments = args.currentTarget.value; //hold only the value instead of persisting the synthetic event.\n      clearTimeout(debounceTime);\n      debounceTime = setTimeout(() => {\n        fn(fnArguments); //context will be held properly as fn is the arrow function\n      }, 500);\n    }\n  }\n\n  getFilteredData = (val) => {\n    const value = val.toLowerCase();\n\n    if (this.cache[value]) {\n      return this.cache[value];\n    }\n\n    const regExp = new RegExp(value, 'g');\n    const filteredData = data.filter((item) => {\n      if (item.id.toLowerCase().search(regExp) != -1 ||\n        item.name.toLowerCase().search(regExp) != -1 ||\n        item.items.join(',').toLowerCase().search(regExp) != -1 ||\n        item.address.toLowerCase().search(regExp) != -1 ||\n        item.pincode.toLowerCase().search(regExp) != -1\n      ) {\n        return true;\n      }\n      return false;\n    });\n\n    this.cache[value] = filteredData;\n    return filteredData;\n  }\n\n  onChange = (val) => {\n    this.filteredData = this.getFilteredData(val);\n    this.setState({enteredVal: val});\n  }\n\n  render() {\n    const handleChange = this.debounceFn(this.onChange);\n    return (\n      <div className=\"SearchBox__div\">\n        <input type=\"text\" onChange={handleChange} className=\"SearchBox__Input\" placeholder=\"search user by Id, Address, name\"/>\n        {this.state.enteredVal && <SearchResult filteredData={this.filteredData}/>}\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport SearchBox from './containers/SearchBox.js';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchBox />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}